import{c as Q,j as n,h,y as M,k as L,b4 as X,r as q,w as A,b5 as E,b6 as Y,aE as ee,Z as z,C as te,p as _,af as O,U as x,q as $,t as j,m as I,ah as ae,aA as le}from"./index.e45af843.js";import{Q as ne,_ as oe}from"./empty.b47db5a9.js";import{Q as ue}from"./QInput.a3e34157.js";import{u as ie,a as re}from"./use-dark.a5e256ad.js";import{b as se}from"./format.de7e9769.js";import"./QSeparator.df6fcc73.js";import"./QList.285b7044.js";import"./use-checkbox.ff5fecab.js";import"./use-key-composition.2853d462.js";import"./private.use-form.95f9ce78.js";import"./QChip.4952feff.js";import"./selection.12f9b3d4.js";import"./use-prevent-scroll.a0aef94f.js";import"./QDialog.fb935a27.js";var de=Q({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:g}){const i=L(),r=n(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return h("td",{class:r.value},M(g.default));const w=i.vnode.key,o=(e.props.colsMap!==void 0?e.props.colsMap[w]:null)||e.props.col;if(o===void 0)return;const{row:l}=e.props;return h("td",{class:r.value+o.__tdClass(l),style:o.__tdStyle(l)},M(g.default))}}});function V(e,g){return[!0,!1].includes(e)?e:g}var ce=Q({name:"QPagination",props:{...ie,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||X.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:g}){const{proxy:i}=L(),{$q:r}=i,w=re(e,r),o=n(()=>parseInt(e.min,10)),l=n(()=>parseInt(e.max,10)),C=n(()=>parseInt(e.maxPages,10)),p=n(()=>b.value+" / "+l.value),u=n(()=>V(e.boundaryLinks,e.input)),c=n(()=>V(e.boundaryNumbers,!e.input)),s=n(()=>V(e.directionLinks,e.input)),d=n(()=>V(e.ellipses,!e.input)),f=q(null),b=n({get:()=>e.modelValue,set:t=>{if(t=parseInt(t,10),e.disable||isNaN(t))return;const a=se(t,o.value,l.value);e.modelValue!==a&&g("update:modelValue",a)}});A(()=>`${o.value}|${l.value}`,()=>{b.value=e.modelValue});const U=n(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),N=n(()=>e.gutter in E?`${E[e.gutter]}px`:e.gutter||null),W=n(()=>N.value!==null?`--q-pagination-gutter-parent:-${N.value};--q-pagination-gutter-child:${N.value}`:null),B=n(()=>{const t=[e.iconFirst||r.iconSet.pagination.first,e.iconPrev||r.iconSet.pagination.prev,e.iconNext||r.iconSet.pagination.next,e.iconLast||r.iconSet.pagination.last];return r.lang.rtl===!0?t.reverse():t}),H=n(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),T=n(()=>Y(e,"flat")),K=n(()=>({[T.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),Z=n(()=>{const t={[T.value]:!1};return e.activeDesign!==""&&(t[e.activeDesign]=!0),t}),G=n(()=>({...Z.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),S=n(()=>{let t=Math.max(C.value,1+(d.value?2:0)+(c.value?2:0));const a={pgFrom:o.value,pgTo:l.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(l.value).length)}em`}};return C.value&&t<l.value-o.value+1&&(t=1+Math.floor(t/2)*2,a.pgFrom=Math.max(o.value,Math.min(l.value-t+1,e.modelValue-Math.floor(t/2))),a.pgTo=Math.min(l.value,a.pgFrom+t-1),c.value&&(a.boundaryStart=!0,a.pgFrom++),d.value&&a.pgFrom>o.value+(c.value?1:0)&&(a.ellipsesStart=!0,a.pgFrom++),c.value&&(a.boundaryEnd=!0,a.pgTo--),d.value&&a.pgTo<l.value-(c.value?1:0)&&(a.ellipsesEnd=!0,a.pgTo--)),a});function D(t){b.value=t}function J(t){b.value=b.value+t}const R=n(()=>{function t(){b.value=f.value,f.value=null}return{"onUpdate:modelValue":a=>{f.value=a},onKeyup:a=>{ee(a,13)===!0&&t()},onBlur:t}});function m(t,a,k){const y={"aria-label":a,"aria-current":"false",...K.value,...t};return k===!0&&Object.assign(y,{"aria-current":"true",...G.value}),a!==void 0&&(e.toFn!==void 0?y.to=e.toFn(a):y.onClick=()=>{D(a)}),h(z,y)}return Object.assign(i,{set:D,setByOffset:J}),()=>{const t=[],a=[];let k;if(u.value===!0&&(t.push(m({key:"bls",disable:e.disable||e.modelValue<=o.value,icon:B.value[0]},o.value)),a.unshift(m({key:"ble",disable:e.disable||e.modelValue>=l.value,icon:B.value[3]},l.value))),s.value===!0&&(t.push(m({key:"bdp",disable:e.disable||e.modelValue<=o.value,icon:B.value[1]},e.modelValue-1)),a.unshift(m({key:"bdn",disable:e.disable||e.modelValue>=l.value,icon:B.value[2]},e.modelValue+1))),e.input!==!0){k=[];const{pgFrom:y,pgTo:F,marginalStyle:P}=S.value;if(S.value.boundaryStart===!0){const v=o.value===e.modelValue;t.push(m({key:"bns",style:P,disable:e.disable,label:o.value},o.value,v))}if(S.value.boundaryEnd===!0){const v=l.value===e.modelValue;a.unshift(m({key:"bne",style:P,disable:e.disable,label:l.value},l.value,v))}S.value.ellipsesStart===!0&&t.push(m({key:"bes",style:P,disable:e.disable,label:"\u2026",ripple:!1},y-1)),S.value.ellipsesEnd===!0&&a.unshift(m({key:"bee",style:P,disable:e.disable,label:"\u2026",ripple:!1},F+1));for(let v=y;v<=F;v++)k.push(m({key:`bpg${v}`,style:P,disable:e.disable,label:v},v,v===e.modelValue))}return h("div",{class:U.value,...H.value},[h("div",{class:"q-pagination__content row no-wrap items-center",style:W.value},[...t,e.input===!0?h(ue,{class:"inline",style:{width:`${p.value.length/1.5}em`},type:"number",dense:!0,value:f.value,disable:e.disable,dark:w.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:p.value,min:o.value,max:l.value,...R.value}):h("div",{class:"q-pagination__middle row justify-center"},k),...a])])}}});const ve={class:"rounded-t mb-0 px-4 py-3 border-0"},me={class:"flex flex-wrap items-center"},ge={class:"relative w-full px-4 max-w-full flex-grow flex-1"},be={class:"block w-full overflow-x-auto"},fe={key:1,class:"no-data"},ye=x("img",{src:oe,alt:"No Data Available"},null,-1),he=x("div",{class:"mt-3"},[x("strong",null,"There is no data in the table.")],-1),xe=[ye,he],Me=Object.assign({name:"transactionTable"},{__name:"CardTable",props:{color:{default:"light",validator(e){return["light","dark"].indexOf(e)!==-1}},columns:{type:Array,required:!0},rows:{type:Array,required:!0,default:()=>[]},titles:{type:String,required:!0},currentPage:{type:Number,required:!0,default:1},totalPages:{type:Number,required:!0,default:1}},emits:["page-changed"],setup(e,{emit:g}){const i=q({}),r=q({}),w=e,o=g,l=q(w.currentPage);A(()=>w.currentPage,u=>{l.value=u});const C=(u,c,s)=>{s.preventDefault(),s.stopPropagation(),i.value[u]||(i.value[u]={loading:!1,percentage:0}),!i.value[u].loading&&(i.value[u].loading=!0,i.value[u].percentage=0,r.value[u]=setInterval(()=>{if(i.value[u].percentage+=Math.floor(Math.random()*8+10),i.value[u].percentage>=100){clearInterval(r.value[u]),i.value[u].loading=!1;const d=document.createElement("a");d.href=c,d.download=`receipt_${u}.pdf`,document.body.appendChild(d),d.click(),document.body.removeChild(d)}},700))},p=u=>{o("page-changed",u)};return te(()=>{Object.values(r.value).forEach(clearInterval)}),(u,c)=>(_(),O("div",{class:le(["relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded",[e.color==="light"?"bg-white":"bg-emerald-900 text-white"]])},[x("div",ve,[x("div",me,[x("div",ge,[x("div",be,[e.rows&&e.rows.length>0?(_(),$(ne,{key:0,class:"my-sticky-header-column-table",dense:u.$q.screen.lt.md,title:e.titles,rows:e.rows,columns:e.columns,"row-key":"name"},{"body-cell-download":j(s=>[I(de,{props:s},{default:j(()=>{var d,f;return[I(z,{loading:(d=i.value[s.row.id])==null?void 0:d.loading,percentage:(f=i.value[s.row.id])==null?void 0:f.percentage,round:"",onClick:b=>C(s.row.id,s.row.download,b),color:"secondary",icon:"cloud_download"},null,8,["loading","percentage","onClick"])]}),_:2},1032,["props"])]),_:1},8,["dense","title","rows","columns"])):(_(),O("div",fe,xe)),e.totalPages>1?(_(),$(ce,{key:2,modelValue:l.value,"onUpdate:modelValue":[c[0]||(c[0]=s=>l.value=s),p],min:1,max:e.totalPages,"max-pages":5},null,8,["modelValue","max"])):ae("",!0)])])])])],2))}});export{Me as default};
