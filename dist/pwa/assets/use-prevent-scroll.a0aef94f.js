import{a1 as h,C as M,a3 as x,k as g,aG as b,w as T,aH as B,o as I,K as H,aI as P}from"./index.e45af843.js";function A(){let o=null;const u=g();function r(){o!==null&&(clearTimeout(o),o=null)}return h(r),M(r),{removeTimeout:r,registerTimeout(l,a){r(),x(u)===!1&&(o=setTimeout(()=>{o=null,l()},a))}}}function C(o,u,r){let l;function a(){l!==void 0&&(b.remove(l),l=void 0)}return M(()=>{o.value===!0&&a()}),{removeFromHistory:a,addToHistory(){l={condition:()=>r.value===!0,handler:u},b.add(l)}}}const D={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},E=["beforeShow","show","beforeHide","hide"];function F({showing:o,canShow:u,hideOnRouteChange:r,handleShow:l,handleHide:a,processOnMount:S}){const f=g(),{props:t,emit:i,proxy:c}=f;let n;function U(e){o.value===!0?d(e):m(e)}function m(e){if(t.disable===!0||e!==void 0&&e.qAnchorHandled===!0||u!==void 0&&u(e)!==!0)return;const s=t["onUpdate:modelValue"]!==void 0;s===!0&&(i("update:modelValue",!0),n=e,H(()=>{n===e&&(n=void 0)})),(t.modelValue===null||s===!1)&&p(e)}function p(e){o.value!==!0&&(o.value=!0,i("beforeShow",e),l!==void 0?l(e):i("show",e))}function d(e){if(t.disable===!0)return;const s=t["onUpdate:modelValue"]!==void 0;s===!0&&(i("update:modelValue",!1),n=e,H(()=>{n===e&&(n=void 0)})),(t.modelValue===null||s===!1)&&v(e)}function v(e){o.value!==!1&&(o.value=!1,i("beforeHide",e),a!==void 0?a(e):i("hide",e))}function y(e){t.disable===!0&&e===!0?t["onUpdate:modelValue"]!==void 0&&i("update:modelValue",!1):e===!0!==o.value&&(e===!0?p:v)(n)}T(()=>t.modelValue,y),r!==void 0&&B(f)===!0&&T(()=>c.$route.fullPath,()=>{r.value===!0&&o.value===!0&&d()}),S===!0&&I(()=>{y(t.modelValue)});const V={show:m,hide:d,toggle:U};return Object.assign(c,V),V}function j(){let o;return{preventBodyScroll(u){u!==o&&(o!==void 0||u===!0)&&(o=u,P(u))}}}export{E as a,A as b,F as c,C as d,j as e,D as u};
